<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	<data>

<!-- =======================================================================================================Vue Book -->

		<!--=====================================================================================================TREE-->
		<record id="bib_book_tree_view" model="ir.ui.view">
			<field name="name">book.tree</field>
			<field name="model">product.template</field>
			<!--Héritage de la vue par défaut -->
			<field name="inherit_id" ref="product.product_template_tree_view"/>

			<field name="type">tree</field>
			<field name="arch" type="xml">
				<!-- Le xpath permet de rechercher dans la vue d'origine un élément,
				ici il est configuré pour rechercher le tree d'origine et rajouter nos champs -->
				<xpath expr="//tree" position="inside">
						<field name="auteur_ids" widget="many2many_tags"/>
						<field name="shelf" widget="badge" options="{'color_field': 'color'}"/>
						<field name="genre_id" widget="many2many_tags" options="{'color_field': 'color'}"/>
						<field name="fields_Publishing_date"/>
						<field name="evaluation_id" widget="many2many_tags"/>
				</xpath>

			</field>
		</record>


		<!--=====================================================================================================FORM-->
		<record id="bib_book_form_view" model="ir.ui.view">
			<field name="name">book.form</field>
			<field name="model">product.template</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="product.product_template_form_view"/>
			<field name="arch" type="xml">
				<!-- Dans ce cas ci, on utilise pas le xpath (on pourrait) mais on utilise une autre méthode pour
				cibler la ou on veut injecter nos champs dans la vue héritée -->
				<!-- L'exemple du xpath pourrait être xpath expr="page[@name='general_information']" position="inside" -->
				<group name="group_general"  position="after">
					<group>
					<field name="auteur_ids" widget="many2many_tags"/>
					<field name="shelf"/>
					<field name="genre_id" widget="many2many_tags" options="{'color_field': 'color'}"/>
					<field name="fields_Publishing_date"/>
					<field name="evaluation_id" widget="many2many_tags"/>

					<field name="is_book" invisible="0" default="1"/>
					
					</group>

				</group>

				<xpath expr="//field[@name='name']" position="replace">
					<field class="text-break" name="name" placeholder="Titre du livre"/>
				</xpath>
				


			</field>
		</record>

		<!--===================================================================================================SEARCH-->
		<record id="bib_book_search" model="ir.ui.view">
			<field name="name">book.search</field>
			<field name="model">product.template</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search>

					<!-- Rajoute les possibilité de rechercher par d'autres valeurs
					(par défaut c'est uniquement sur le name) -->
					<!--
					<field name="fields_Title"/>
					<field name="auteur_ids"/>
					<field name="fields_Publishing_date"/>
					<field name="fields_Editing"/>
					<field name="fields_Page_count"/>
					<field name="fields_Bar_code"/>
					<field name="fields_ISBN"/>
					<field name="fields_Format"/>
					<field name="fields_Pice"/>
					<field name="langue_id"/>
					<field name="shelf"/>
					-->
					<!-- Ajout de filtre perso -->
					<!-- 
					Name = nom technique
					string = ce qui est affiché à l'utilisateur
					domain = triplet (polish) WHERE de la query
					-->
					<!--
					<filter name="edition2" string="Livres de 2eme édition" domain="[('fields_Editing', '=', '2eme')]"/>
					-->
					<!-- Regroupement -->

					<!-- group expand="0" string=... est par défaut et est obligatoire (pas toucher)-->
					<!--
					<group expand="0" string="Group By">-->
						<!-- Definition des regroupements -->
						<!--
						<filter string="Etagères" name="shelf" context="{'group_by': 'shelf'}"/>
						<filter string="Noms" name="name" context="{'group_by': 'fields_Title'}"/>
						<filter string="Formats" name="format" context="{'group_by': 'fields_Format'}"/>
					</group>-->




				</search>
			</field>
		</record>


		<!--===================================================================================================KANBAN-->
		
		<!-- Lourdement modifiée par du JS :) -->
		<!-- y a un petit flipster qui s'affiche en haut-->
		<record id="bib_book_kanban" model="ir.ui.view">
			<field name="name">book.kanban</field>
			<field name="model">product.template</field>
			<field name="type">kanban</field>
			<field name="arch" type="xml">
				<kanban>
    				<templates>
    				    <t t-name="kanban-box">
                        	<div class="oe_kanban_global_click">

                        	  	<div style="font-weight:bold;border:2px solid rgba(0,0,0,0.4); display:inline-block; padding:2px 5px; border-radius:15px; background-color:white; position:relative; top:30px; z-index:5;">
                        	      	<field name="list_price"/>
                        	      	<field name="currency_id"/>
                        	  	</div>

                        	    <!--Important de la garder, car le flipster se sert d'elle pour avoir des images-->
                        	    <field name="image_512" widget="image"/>

                        	    <div style="text-align:center;font-weight:bold;font-size:120%;"><field name="name"/></div>
                        	    <div>
                        	    	Genre : 
                        	      	<field name="genre_id" widget="many2many_tags" options="{'color_field': 'color'}"/>
                        	    </div>
                        	    <div>
                        	       	Auteur(s) : 
                        	    	<field name="auteur_ids" widget="many2many_tags"/>
                        	    </div>
                        	</div>
                    	</t>
    				</templates>
				</kanban>
			</field>
		</record>





<!--=================================================================================-->
<!--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
<!-- !!N'est plus utilisée car on utilise res.lang de Odoo !! -->
<!-- Je la laisse car il y a un smart button :)               -->
<!--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
<!-- Vue langue -->
		<!-- form -->
		<record id="bib_langue_form" model="ir.ui.view">
			<field name="name">langue.form</field>
			<field name="model">bib.langue</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Langue">
					<sheet>
						<!-- Smart Button -->
						<div class="oe_button_box" name="button_box">
							<!-- Le name du button = nom de la fonction
							name="dummy" devient name="books_by_languages"
							-->
							<button class="oe_stat_button" name="books_by_languages" type="object" icon="fa-book">
								<div class="o_stat_info">
									<span class="o_stat_value">
										<!--<field name="count_book" />-->
									</span>
									<span class="o_stat_text">
										Livres
									</span>
								</div>
							</button>

						</div>
						<group>
							<!--<field name="Fields_langue" />-->
							<!--<field name="ids_book" />-->
							<!--<field name="count_book" />-->
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<!--Tree-->
		<record id="bib_langue_tree" model="ir.ui.view">
			<field name="name">langue.tree</field>
			<field name="model">bib.langue</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Langue">
					<!--<field name="Fields_langue" />-->
					<!--<field name="ids_book" />-->
				</tree>
			</field>
		</record>

<!--=================================================================================-->




	</data>
</odoo>
